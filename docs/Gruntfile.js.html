<!DOCTYPE html><html><head><title>Gruntfile.js</title><meta http-equiv="Content-Type" content="text/html" charset="UTF-8"><link rel="stylesheet" media="all" href="./docco.css"></head><body><div id="container"><div id="background"></div><div id="jump_to">Jump To &hellip;<div id="jump_wrapper"><div id="jump_page"><a href="./index.html" class="source"><span class="file_name">README</span></a><a href="./Gruntfile.js.html" class="source selected"><span class="base_path">. / </span><span class="file_name">Gruntfile.js</span></a><a href="./app/app.js.html" class="source "><span class="base_path">app / </span><span class="file_name">app.js</span></a><a href="./app/apps/_common/controller/helper_functions.js.html" class="source "><span class="base_path">app / apps / _common / controller / </span><span class="file_name">helper_functions.js</span></a><a href="./app/apps/_common/jquery/helper_functions.js.html" class="source "><span class="base_path">app / apps / _common / jquery / </span><span class="file_name">helper_functions.js</span></a><a href="./app/apps/_common/stickit/custom_handlers.js.html" class="source "><span class="base_path">app / apps / _common / stickit / </span><span class="file_name">custom_handlers.js</span></a><a href="./app/apps/_common/views/cms_panel.js.html" class="source "><span class="base_path">app / apps / _common / views / </span><span class="file_name">cms_panel.js</span></a><a href="./app/apps/_common/views/image_uploader.js.html" class="source "><span class="base_path">app / apps / _common / views / </span><span class="file_name">image_uploader.js</span></a><a href="./app/apps/_common/views/loading.js.html" class="source "><span class="base_path">app / apps / _common / views / </span><span class="file_name">loading.js</span></a><a href="./app/apps/_common/views/redactor.js.html" class="source "><span class="base_path">app / apps / _common / views / </span><span class="file_name">redactor.js</span></a><a href="./app/apps/_entities/comments.js.html" class="source "><span class="base_path">app / apps / _entities / </span><span class="file_name">comments.js</span></a><a href="./app/apps/_entities/helper_functions.js.html" class="source "><span class="base_path">app / apps / _entities / </span><span class="file_name">helper_functions.js</span></a><a href="./app/apps/_entities/localstorage.js.html" class="source "><span class="base_path">app / apps / _entities / </span><span class="file_name">localstorage.js</span></a><a href="./app/apps/_entities/menu.js.html" class="source "><span class="base_path">app / apps / _entities / </span><span class="file_name">menu.js</span></a><a href="./app/apps/_entities/pages.js.html" class="source "><span class="base_path">app / apps / _entities / </span><span class="file_name">pages.js</span></a><a href="./app/apps/_entities/posts.js.html" class="source "><span class="base_path">app / apps / _entities / </span><span class="file_name">posts.js</span></a><a href="./app/apps/_entities/search.js.html" class="source "><span class="base_path">app / apps / _entities / </span><span class="file_name">search.js</span></a><a href="./app/apps/_entities/users.js.html" class="source "><span class="base_path">app / apps / _entities / </span><span class="file_name">users.js</span></a><a href="./app/apps/auth/auth_app.js.html" class="source "><span class="base_path">app / apps / auth / </span><span class="file_name">auth_app.js</span></a><a href="./app/apps/auth/login/login_controller.js.html" class="source "><span class="base_path">app / apps / auth / login / </span><span class="file_name">login_controller.js</span></a><a href="./app/apps/auth/login/login_views.js.html" class="source "><span class="base_path">app / apps / auth / login / </span><span class="file_name">login_views.js</span></a><a href="./app/apps/auth/signup/signup_controller.js.html" class="source "><span class="base_path">app / apps / auth / signup / </span><span class="file_name">signup_controller.js</span></a><a href="./app/apps/auth/signup/signup_views.js.html" class="source "><span class="base_path">app / apps / auth / signup / </span><span class="file_name">signup_views.js</span></a><a href="./app/apps/comments/comments_app.js.html" class="source "><span class="base_path">app / apps / comments / </span><span class="file_name">comments_app.js</span></a><a href="./app/apps/comments/List/_common/views.js.html" class="source "><span class="base_path">app / apps / comments / List / _common / </span><span class="file_name">views.js</span></a><a href="./app/apps/comments/List/ForPost/list_controller.js.html" class="source "><span class="base_path">app / apps / comments / List / ForPost / </span><span class="file_name">list_controller.js</span></a><a href="./app/apps/comments/List/ForPost/list_views.js.html" class="source "><span class="base_path">app / apps / comments / List / ForPost / </span><span class="file_name">list_views.js</span></a><a href="./app/apps/comments/List/ForUser/list_controller.js.html" class="source "><span class="base_path">app / apps / comments / List / ForUser / </span><span class="file_name">list_controller.js</span></a><a href="./app/apps/comments/List/ForUser/list_views.js.html" class="source "><span class="base_path">app / apps / comments / List / ForUser / </span><span class="file_name">list_views.js</span></a><a href="./app/apps/comments/New/new_controller.js.html" class="source "><span class="base_path">app / apps / comments / New / </span><span class="file_name">new_controller.js</span></a><a href="./app/apps/comments/New/new_views.js.html" class="source "><span class="base_path">app / apps / comments / New / </span><span class="file_name">new_views.js</span></a><a href="./app/apps/comments/Show/_common/views.js.html" class="source "><span class="base_path">app / apps / comments / Show / _common / </span><span class="file_name">views.js</span></a><a href="./app/apps/comments/Show/ForPost/show_controller.js.html" class="source "><span class="base_path">app / apps / comments / Show / ForPost / </span><span class="file_name">show_controller.js</span></a><a href="./app/apps/comments/Show/ForPost/show_views.js.html" class="source "><span class="base_path">app / apps / comments / Show / ForPost / </span><span class="file_name">show_views.js</span></a><a href="./app/apps/comments/Show/ForUser/show_controller.js.html" class="source "><span class="base_path">app / apps / comments / Show / ForUser / </span><span class="file_name">show_controller.js</span></a><a href="./app/apps/comments/Show/ForUser/show_views.js.html" class="source "><span class="base_path">app / apps / comments / Show / ForUser / </span><span class="file_name">show_views.js</span></a><a href="./app/apps/menu/list/list_controller.js.html" class="source "><span class="base_path">app / apps / menu / list / </span><span class="file_name">list_controller.js</span></a><a href="./app/apps/menu/list/list_views.js.html" class="source "><span class="base_path">app / apps / menu / list / </span><span class="file_name">list_views.js</span></a><a href="./app/apps/menu/menu_app.js.html" class="source "><span class="base_path">app / apps / menu / </span><span class="file_name">menu_app.js</span></a><a href="./app/apps/pages/Edit/edit_controller.js.html" class="source "><span class="base_path">app / apps / pages / Edit / </span><span class="file_name">edit_controller.js</span></a><a href="./app/apps/pages/Edit/edit_views.js.html" class="source "><span class="base_path">app / apps / pages / Edit / </span><span class="file_name">edit_views.js</span></a><a href="./app/apps/pages/pages_app.js.html" class="source "><span class="base_path">app / apps / pages / </span><span class="file_name">pages_app.js</span></a><a href="./app/apps/pages/Show/show_controller.js.html" class="source "><span class="base_path">app / apps / pages / Show / </span><span class="file_name">show_controller.js</span></a><a href="./app/apps/pages/Show/show_views.js.html" class="source "><span class="base_path">app / apps / pages / Show / </span><span class="file_name">show_views.js</span></a><a href="./app/apps/posts/_common/views.js.html" class="source "><span class="base_path">app / apps / posts / _common / </span><span class="file_name">views.js</span></a><a href="./app/apps/posts/edit/edit_controller.js.html" class="source "><span class="base_path">app / apps / posts / edit / </span><span class="file_name">edit_controller.js</span></a><a href="./app/apps/posts/edit/edit_views.js.html" class="source "><span class="base_path">app / apps / posts / edit / </span><span class="file_name">edit_views.js</span></a><a href="./app/apps/posts/list/list_controller.js.html" class="source "><span class="base_path">app / apps / posts / list / </span><span class="file_name">list_controller.js</span></a><a href="./app/apps/posts/list/list_views.js.html" class="source "><span class="base_path">app / apps / posts / list / </span><span class="file_name">list_views.js</span></a><a href="./app/apps/posts/new/new_controller.js.html" class="source "><span class="base_path">app / apps / posts / new / </span><span class="file_name">new_controller.js</span></a><a href="./app/apps/posts/new/new_views.js.html" class="source "><span class="base_path">app / apps / posts / new / </span><span class="file_name">new_views.js</span></a><a href="./app/apps/posts/posts_app.js.html" class="source "><span class="base_path">app / apps / posts / </span><span class="file_name">posts_app.js</span></a><a href="./app/apps/posts/show/show_controller.js.html" class="source "><span class="base_path">app / apps / posts / show / </span><span class="file_name">show_controller.js</span></a><a href="./app/apps/posts/show/show_views.js.html" class="source "><span class="base_path">app / apps / posts / show / </span><span class="file_name">show_views.js</span></a><a href="./app/apps/users/_common/views.js.html" class="source "><span class="base_path">app / apps / users / _common / </span><span class="file_name">views.js</span></a><a href="./app/apps/users/edit/edit_controller.js.html" class="source "><span class="base_path">app / apps / users / edit / </span><span class="file_name">edit_controller.js</span></a><a href="./app/apps/users/edit/edit_views.js.html" class="source "><span class="base_path">app / apps / users / edit / </span><span class="file_name">edit_views.js</span></a><a href="./app/apps/users/list/list_controller.js.html" class="source "><span class="base_path">app / apps / users / list / </span><span class="file_name">list_controller.js</span></a><a href="./app/apps/users/list/list_views.js.html" class="source "><span class="base_path">app / apps / users / list / </span><span class="file_name">list_views.js</span></a><a href="./app/apps/users/new/new_controller.js.html" class="source "><span class="base_path">app / apps / users / new / </span><span class="file_name">new_controller.js</span></a><a href="./app/apps/users/new/new_views.js.html" class="source "><span class="base_path">app / apps / users / new / </span><span class="file_name">new_views.js</span></a><a href="./app/apps/users/show/show_controller.js.html" class="source "><span class="base_path">app / apps / users / show / </span><span class="file_name">show_controller.js</span></a><a href="./app/apps/users/show/show_views.js.html" class="source "><span class="base_path">app / apps / users / show / </span><span class="file_name">show_views.js</span></a><a href="./app/apps/users/users_app.js.html" class="source "><span class="base_path">app / apps / users / </span><span class="file_name">users_app.js</span></a><a href="./app/config.js.html" class="source "><span class="base_path">app / </span><span class="file_name">config.js</span></a><a href="./app/main.js.html" class="source "><span class="base_path">app / </span><span class="file_name">main.js</span></a><a href="./app/require_config.js.html" class="source "><span class="base_path">app / </span><span class="file_name">require_config.js</span></a></div></div></div><table cellpadding="0" cellspacing="0"><thead><tr><th class="docs"><h1>Gruntfile.js</h1><div class="filepath">./</div></th><th class="code"></th></tr></thead><tbody><tr id="section-1"><td class="docs"><div class="pilwrap"><a href="#section-1" class="pilcrow">&#182;</a></div>
</td><td class="code"><div class="highlight"><pre><span class="s1">&#39;use strict&#39;</span><span class="p">;</span></pre></div></td></tr><tr id="section-2"><td class="docs"><div class="pilwrap"><a href="#section-2" class="pilcrow">&#182;</a></div><p>var lrSnippet = require('grunt-contrib-livereload/lib/utils').livereloadSnippet;</p>
</td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">mountFolder</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">connect</span><span class="p">,</span> <span class="nx">dir</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">connect</span><span class="p">.</span><span class="kr">static</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">).</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">dir</span><span class="p">));</span>
<span class="p">};</span>


<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">grunt</span><span class="p">){</span></pre></div></td></tr><tr id="section-3"><td class="docs"><div class="pilwrap"><a href="#section-3" class="pilcrow">&#182;</a></div><p>LOAD ALL GRUNT TASK LIBS</p>
</td><td class="code"><div class="highlight"><pre>  <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;matchdep&#39;</span><span class="p">).</span><span class="nx">filterDev</span><span class="p">(</span><span class="s1">&#39;grunt-*&#39;</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">str</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">str</span> <span class="o">!==</span> <span class="s1">&#39;grunt-template-jasmine-requirejs&#39;</span> <span class="p">){</span>  <span class="c1">// if you dont do this it&#39;ll complain about loading up the template</span>
      <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span></pre></div></td></tr><tr id="section-4"><td class="docs"><div class="pilwrap"><a href="#section-4" class="pilcrow">&#182;</a></div><p>CONFIGURABLE PATHS</p>
</td><td class="code"><div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">sacrumConfig</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">app</span><span class="o">:</span> <span class="s1">&#39;app&#39;</span><span class="p">,</span>
      <span class="nx">dist</span><span class="o">:</span> <span class="s1">&#39;dist&#39;</span>
    <span class="p">};</span>

  <span class="nx">grunt</span><span class="p">.</span><span class="nx">initConfig</span><span class="p">({</span>
    <span class="nx">sacrum</span><span class="o">:</span> <span class="nx">sacrumConfig</span><span class="p">,</span></pre></div></td></tr><tr id="section-5"><td class="docs"><div class="pilwrap"><a href="#section-5" class="pilcrow">&#182;</a></div><p>WATCH THESE FILES WITH THESE TASKS //</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">watch</span><span class="o">:</span><span class="p">{</span>
      <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">livereload</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="nx">openServer</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&lt;%= sacrum.app %&gt;/assets/index.html&#39;</span><span class="p">],</span>
        <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;open:server&#39;</span><span class="p">],</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">atBegin</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="p">}</span>
      <span class="p">},</span></pre></div></td></tr><tr id="section-6"><td class="docs"><div class="pilwrap"><a href="#section-6" class="pilcrow">&#182;</a></div><p>sass: {
  files: ['&lt;%= sacrum.app %>/styles/<em>*/</em>.scss'],
  tasks: ['sass:dev']
},</p>
</td><td class="code"><div class="highlight"><pre>      <span class="nx">compass</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&lt;%= sacrum.app %&gt;/styles/**/*.scss&#39;</span><span class="p">],</span>
        <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;compass:dev&#39;</span><span class="p">]</span>
      <span class="p">},</span>
      <span class="nx">copyAssets</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&lt;%= sacrum.app %&gt;/assets/**/*.{png,jpg,jepg,gif,webp,svg,html,eot,ttf,woff}&#39;</span><span class="p">],</span>
        <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;copy:assets2tmp&#39;</span><span class="p">]</span>
      <span class="p">},</span>
      <span class="nx">copyScripts</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&lt;%= sacrum.app %&gt;/**/*.js&#39;</span><span class="p">],</span>
        <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;copy:scripts2tmp&#39;</span><span class="p">]</span>
      <span class="p">},</span>
      <span class="nx">copyTemplates</span><span class="o">:</span><span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&lt;%= sacrum.app %/apps/**/*.html&gt;&#39;</span><span class="p">],</span>
        <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;copy:templates2tmp&#39;</span><span class="p">]</span>
      <span class="p">},</span>
      <span class="nx">copyStyles</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&lt;%= sacrum.app %&gt;/**/*.css&#39;</span><span class="p">],</span>
        <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;copy:styles2tmp&#39;</span><span class="p">]</span>
      <span class="p">},</span>
      <span class="nx">copyVendor</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;vendor/**/*.js&#39;</span><span class="p">,</span> <span class="s1">&#39;vendor/**/*.css&#39;</span><span class="p">,</span> <span class="s1">&#39;vendor/**/*.scss&#39;</span><span class="p">],</span>
        <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;copy:vendor2tmp&#39;</span><span class="p">]</span>
      <span class="p">},</span>
      <span class="nx">jasmine</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&lt;%= sacrum.app %&gt;/scripts/**/*.js&#39;</span><span class="p">,</span> <span class="s1">&#39;test/spec/**/*.js&#39;</span><span class="p">],</span>
        <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;test&#39;</span><span class="p">]</span>
      <span class="p">},</span></pre></div></td></tr><tr id="section-7"><td class="docs"><div class="pilwrap"><a href="#section-7" class="pilcrow">&#182;</a></div><p>dummy task to keep the server running on build:server</p>
</td><td class="code"><div class="highlight"><pre>      <span class="nx">build</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&lt;%= sacrum.app %&gt;/*.html&#39;</span><span class="p">],</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">livereload</span><span class="o">:</span> <span class="kc">false</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>

    <span class="nx">connect</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">port</span><span class="o">:</span> <span class="mi">8000</span><span class="p">,</span>
        <span class="nx">hostname</span><span class="o">:</span> <span class="s1">&#39;localhost&#39;</span>
      <span class="p">},</span>
      <span class="nx">tmp</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">port</span><span class="o">:</span> <span class="mi">8000</span><span class="p">,</span>
          <span class="nx">hostname</span><span class="o">:</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span>
          <span class="nx">middleware</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">connect</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">[</span></pre></div></td></tr><tr id="section-8"><td class="docs"><div class="pilwrap"><a href="#section-8" class="pilcrow">&#182;</a></div><p>lrSnippet,</p>
</td><td class="code"><div class="highlight"><pre>              <span class="nx">mountFolder</span><span class="p">(</span><span class="nx">connect</span><span class="p">,</span> <span class="s1">&#39;.tmp&#39;</span><span class="p">),</span>
            <span class="p">];</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nx">build</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">port</span><span class="o">:</span> <span class="mi">8000</span><span class="p">,</span>
          <span class="nx">hostname</span><span class="o">:</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span>
          <span class="nx">middleware</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">connect</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">[</span></pre></div></td></tr><tr id="section-9"><td class="docs"><div class="pilwrap"><a href="#section-9" class="pilcrow">&#182;</a></div><p>lrSnippet,
mountFolder(connect, '&lt;%= sacrum.dist %>')</p>
</td><td class="code"><div class="highlight"><pre>              <span class="nx">mountFolder</span><span class="p">(</span><span class="nx">connect</span><span class="p">,</span> <span class="s1">&#39;dist&#39;</span><span class="p">)</span>
            <span class="p">];</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">port</span><span class="o">:</span> <span class="mi">8001</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nx">testBrowser</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">port</span><span class="o">:</span> <span class="mi">8002</span><span class="p">,</span>
          <span class="nx">middleware</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">connect</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">[</span>
              <span class="nx">mountFolder</span><span class="p">(</span><span class="nx">connect</span><span class="p">,</span> <span class="s1">&#39;./&#39;</span><span class="p">)</span>
            <span class="p">];</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span></pre></div></td></tr><tr id="section-10"><td class="docs"><div class="pilwrap"><a href="#section-10" class="pilcrow">&#182;</a></div><p>OPENS UP YOUR DEFAULT BROSWER WITH A NEW PAGE AT THIS PATH</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">open</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">server</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;http://localhost:&lt;%= connect.options.port %&gt;&#39;</span>
      <span class="p">},</span>
      <span class="nx">testBrowser</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;http://localhost:&lt;%= connect.testBrowser.options.port %&gt;/_SpecRunner.html&#39;</span>
      <span class="p">}</span>
    <span class="p">},</span></pre></div></td></tr><tr id="section-11"><td class="docs"><div class="pilwrap"><a href="#section-11" class="pilcrow">&#182;</a></div><p>DESTROYS CERTAIN FOLDERS</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">clean</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">tmp</span><span class="o">:</span> <span class="s1">&#39;.tmp&#39;</span><span class="p">,</span>
      <span class="nx">dist</span><span class="o">:</span> <span class="s1">&#39;&lt;%= sacrum.dist %&gt;&#39;</span><span class="p">,</span>
      <span class="nx">postBuild</span><span class="o">:</span> <span class="p">[</span>
        <span class="s1">&#39;&lt;%= sacrum.dist %&gt;/js/vendor&#39;</span><span class="p">,</span>
        <span class="s1">&#39;&lt;%= sacrum.dist %&gt;/js/primatives&#39;</span><span class="p">,</span>
        <span class="s1">&#39;&lt;%= sacrum.dist %&gt;/js/templates&#39;</span><span class="p">,</span>
        <span class="s1">&#39;&lt;%= sacrum.dist %&gt;/css/vendor&#39;</span>
      <span class="p">]</span>
    <span class="p">},</span></pre></div></td></tr><tr id="section-12"><td class="docs"><div class="pilwrap"><a href="#section-12" class="pilcrow">&#182;</a></div><p>LINT ALL FILES -- // NOT CONFIGURED //</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">jshint</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">jshintrc</span><span class="o">:</span> <span class="s1">&#39;.jshintrc&#39;</span>
      <span class="p">},</span>
      <span class="nx">all</span><span class="o">:</span> <span class="p">[</span>
        <span class="s1">&#39;Gruntfile.js&#39;</span>
      <span class="p">]</span>
    <span class="p">},</span></pre></div></td></tr><tr id="section-13"><td class="docs"><div class="pilwrap"><a href="#section-13" class="pilcrow">&#182;</a></div><p>COMPILE SASS FILES - .scss only</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">sass</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">options</span><span class="o">:</span> <span class="p">{</span></pre></div></td></tr><tr id="section-14"><td class="docs"><div class="pilwrap"><a href="#section-14" class="pilcrow">&#182;</a></div><p>includePaths: '&lt;%= sacrum.app %>/styles/'</p>
</td><td class="code"><div class="highlight"><pre>      <span class="p">},</span>
      <span class="nx">dev</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">options</span><span class="o">:</span><span class="p">{</span>
          <span class="nx">outputStyle</span><span class="o">:</span> <span class="s1">&#39;expanded&#39;</span><span class="p">,</span>
          <span class="nx">sourceComments</span><span class="o">:</span> <span class="s1">&#39;normal&#39;</span>
        <span class="p">},</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">{</span>
          <span class="s1">&#39;.tmp/css/main.css&#39;</span><span class="o">:</span> <span class="s1">&#39;&lt;%= sacrum.app %&gt;/styles/main.scss&#39;</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nx">dist</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">cssDir</span><span class="o">:</span> <span class="s1">&#39;&lt;%= sacrum.dist %&gt;/css&#39;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span></pre></div></td></tr><tr id="section-15"><td class="docs"><div class="pilwrap"><a href="#section-15" class="pilcrow">&#182;</a></div><p>COMPILE COMPASS FILES</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">compass</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">sassDir</span><span class="o">:</span> <span class="s1">&#39;&lt;%= sacrum.app %&gt;/styles&#39;</span><span class="p">,</span>
        <span class="nx">relativeAssets</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">debugInfo</span><span class="o">:</span> <span class="kc">false</span></pre></div></td></tr><tr id="section-16"><td class="docs"><div class="pilwrap"><a href="#section-16" class="pilcrow">&#182;</a></div><p>specify: ['&lt;%= sacrum.app %>/styles/main.scss']</p>
</td><td class="code"><div class="highlight"><pre>      <span class="p">},</span>
      <span class="nx">dev</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">cssDir</span><span class="o">:</span> <span class="s1">&#39;.tmp/css&#39;</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nx">dist</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">cssDir</span><span class="o">:</span> <span class="s1">&#39;&lt;%= sacrum.dist %&gt;/css&#39;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span></pre></div></td></tr><tr id="section-17"><td class="docs"><div class="pilwrap"><a href="#section-17" class="pilcrow">&#182;</a></div><p>This tasks converts all non-progressive jpegs to progressive format this
is considered a modern browser best practice http://blog.patrickmeenan.com/2013/06/progressive-jpegs-ftw.html</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">imagemin</span><span class="o">:</span><span class="p">{</span>
      <span class="nx">dist</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">optimizationLevel</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
          <span class="nx">progressive</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">},</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[{</span>
          <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;&lt;%= sacrum.app %&gt;/assets/&#39;</span><span class="p">,</span>
          <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;**/*.jpg&#39;</span><span class="p">,</span>
          <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;&lt;%= sacrum.dist %&gt;&#39;</span>
        <span class="p">}]</span>
      <span class="p">}</span>
    <span class="p">},</span></pre></div></td></tr><tr id="section-18"><td class="docs"><div class="pilwrap"><a href="#section-18" class="pilcrow">&#182;</a></div><p>This task compiles all hanldbars templates with the extension .hbs to
.js files for faster consumption and smaller handlebars.runtime library</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">handlebars</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">dev</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span></pre></div></td></tr><tr id="section-19"><td class="docs"><div class="pilwrap"><a href="#section-19" class="pilcrow">&#182;</a></div><p>namespace: 'JST', // this is the default</p>
</td><td class="code"><div class="highlight"><pre>          <span class="nx">amd</span><span class="o">:</span> <span class="kc">true</span>            <span class="c1">// dont really know how this works yet :)</span>
        <span class="p">},</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[{</span>
          <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">flatten</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;app/&#39;</span><span class="p">,</span>
          <span class="nx">src</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;**/*.hbs&#39;</span><span class="p">],</span>
          <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;.tmp/js/templates/&#39;</span><span class="p">,</span>
          <span class="nx">ext</span><span class="o">:</span> <span class="s1">&#39;.js&#39;</span>
        <span class="p">}]</span>
      <span class="p">},</span>
      <span class="nx">dist</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span></pre></div></td></tr><tr id="section-20"><td class="docs"><div class="pilwrap"><a href="#section-20" class="pilcrow">&#182;</a></div><p>namespace: 'JST', // this is the default</p>
</td><td class="code"><div class="highlight"><pre>          <span class="nx">amd</span><span class="o">:</span> <span class="kc">true</span>            <span class="c1">// dont really know how this works yet :)</span>
        <span class="p">},</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[{</span>
          <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">flatten</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;app/&#39;</span><span class="p">,</span>
          <span class="nx">src</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;**/*.hbs&#39;</span><span class="p">],</span>
          <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;&lt;%= sacrum.dist %&gt;/js/templates/&#39;</span><span class="p">,</span>
          <span class="nx">ext</span><span class="o">:</span> <span class="s1">&#39;.js&#39;</span>
        <span class="p">}]</span>
      <span class="p">}</span>
    <span class="p">},</span></pre></div></td></tr><tr id="section-21"><td class="docs"><div class="pilwrap"><a href="#section-21" class="pilcrow">&#182;</a></div><p>COPY FILES FOR TESTING, DEVING AND BUILDING
DRY THIS UP WITH SOME ARGS AND GRUNT REG TASK //</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">copy</span><span class="o">:</span> <span class="p">{</span></pre></div></td></tr><tr id="section-22"><td class="docs"><div class="pilwrap"><a href="#section-22" class="pilcrow">&#182;</a></div><p>DEVELOPMENT</p>
</td><td class="code"><div class="highlight"><pre>      <span class="nx">assets2tmp</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[{</span>
          <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;app/assets/&#39;</span><span class="p">,</span>
          <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;.tmp&#39;</span><span class="p">,</span>
          <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;**&#39;</span>
        <span class="p">}]</span>
      <span class="p">},</span>
      <span class="nx">scripts2tmp</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[{</span>
          <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;app&#39;</span><span class="p">,</span>
          <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;.tmp/js/&#39;</span><span class="p">,</span>
          <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;**/*.js&#39;</span>
        <span class="p">}]</span>
      <span class="p">},</span>
      <span class="nx">templates2tmp</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[{</span>
          <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;app/apps&#39;</span><span class="p">,</span>
          <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;.tmp/js/apps&#39;</span><span class="p">,</span>
          <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;**/*.html&#39;</span>
        <span class="p">}]</span>
      <span class="p">},</span>
      <span class="nx">styles2tmp</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[{</span>
          <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;app/styles&#39;</span><span class="p">,</span>
          <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;.tmp/css/&#39;</span><span class="p">,</span>
          <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;**/*.css&#39;</span>
        <span class="p">}]</span>
      <span class="p">},</span>
      <span class="nx">vendor2tmp</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">flatten</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;vendor&#39;</span><span class="p">,</span>
            <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;js/require*.js&#39;</span><span class="p">,</span>
            <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;.tmp/js/&#39;</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">flatten</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;vendor&#39;</span><span class="p">,</span>
            <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;js/**/*.js&#39;</span><span class="p">,</span>
            <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;.tmp/js/vendor&#39;</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">flatten</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;vendor&#39;</span><span class="p">,</span>
            <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;css/**/*.css&#39;</span><span class="p">,</span>
            <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;.tmp/css/vendor&#39;</span>
          <span class="p">},</span>
          <span class="p">,</span>
          <span class="p">{</span>
            <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">flatten</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;vendor&#39;</span><span class="p">,</span>
            <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;css/**/*.scss&#39;</span><span class="p">,</span>
            <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;.tmp/css/vendor&#39;</span>
          <span class="p">}</span>
        <span class="p">]</span>
      <span class="p">},</span></pre></div></td></tr><tr id="section-23"><td class="docs"><div class="pilwrap"><a href="#section-23" class="pilcrow">&#182;</a></div><p>BUILD</p>
</td><td class="code"><div class="highlight"><pre>      <span class="nx">assets2dist</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[{</span>
          <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;app/assets/&#39;</span><span class="p">,</span>
          <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;dist&#39;</span><span class="p">,</span>
          <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;**&#39;</span>
        <span class="p">}]</span>
      <span class="p">},</span>
      <span class="nx">scripts2dist</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[{</span>
          <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;app&#39;</span><span class="p">,</span>
          <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;dist/js/&#39;</span><span class="p">,</span>
          <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;**/*.js&#39;</span>
        <span class="p">}]</span>
      <span class="p">},</span>
      <span class="nx">styles2dist</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[{</span>
          <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;app/styles&#39;</span><span class="p">,</span>
          <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;dist/css/&#39;</span><span class="p">,</span>
          <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;**/*.css&#39;</span>
        <span class="p">}]</span>
      <span class="p">},</span>
      <span class="nx">vendor2dist</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">files</span><span class="o">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">flatten</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;vendor&#39;</span><span class="p">,</span>
            <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;js/require*.js&#39;</span><span class="p">,</span>
            <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;dist/js/&#39;</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">flatten</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;vendor&#39;</span><span class="p">,</span>
            <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;js/almond*.js&#39;</span><span class="p">,</span>
            <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;dist/js/&#39;</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">flatten</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;vendor&#39;</span><span class="p">,</span>
            <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;js/**/*.js&#39;</span><span class="p">,</span>
            <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;dist/js/vendor&#39;</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">flatten</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;vendor&#39;</span><span class="p">,</span>
            <span class="nx">src</span><span class="o">:</span> <span class="s1">&#39;css/**/*.css&#39;</span><span class="p">,</span>
            <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;dist/css/vendor&#39;</span>
          <span class="p">}</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span></pre></div></td></tr><tr id="section-24"><td class="docs"><div class="pilwrap"><a href="#section-24" class="pilcrow">&#182;</a></div><p>Runs Docco Task which creates documentation from commented source files
docco: {
  options: {
    layout: 'parallel',
    output: 'docs/'
  },
  all: {
    files:{ src: ['app/<em>*/</em>.js'] }
  },
  single: {
    files:{ src: ['app/app.js'] }
  },
  gruntfile: {
    options: {
      layout: 'linear'
    },
    files:{ src:'Gruntfile.js' }
  }
},</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">docco_husky</span> <span class="o">:</span> <span class="p">{</span>
      <span class="s1">&#39;project_name&#39;</span><span class="o">:</span><span class="s1">&#39;testing&#39;</span><span class="p">,</span>
      <span class="s1">&#39;files&#39;</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;app/**/*.js&#39;</span><span class="p">]</span>
    <span class="p">},</span></pre></div></td></tr><tr id="section-25"><td class="docs"><div class="pilwrap"><a href="#section-25" class="pilcrow">&#182;</a></div><p>RUNS JASMINE SPECS IN HEADLESS PHANTOM</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">jasmine</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">test</span><span class="o">:</span> <span class="p">{</span></pre></div></td></tr><tr id="section-26"><td class="docs"><div class="pilwrap"><a href="#section-26" class="pilcrow">&#182;</a></div><p>source of all the javascripts files to test (the app's files)</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">src</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;.tmp/js/**/*.js&#39;</span><span class="p">,</span> <span class="s1">&#39;!.tmp/js/vendor/**&#39;</span><span class="p">],</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span></pre></div></td></tr><tr id="section-27"><td class="docs"><div class="pilwrap"><a href="#section-27" class="pilcrow">&#182;</a></div><p>test from this ad hoc server // phantomjs always times out</p>
</td><td class="code"><div class="highlight"><pre>          <span class="nx">host</span><span class="o">:</span> <span class="s1">&#39;http://localhost:&lt;%= connect.test.options.port %&gt;&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-28"><td class="docs"><div class="pilwrap"><a href="#section-28" class="pilcrow">&#182;</a></div><p>host: 'http://localhost:9000',</p>
</td><td class="code"><div class="highlight"><pre>          <span class="nx">junitPath</span><span class="o">:</span> <span class="s1">&#39;./&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-29"><td class="docs"><div class="pilwrap"><a href="#section-29" class="pilcrow">&#182;</a></div><p>all the testing specs</p>
</td><td class="code"><div class="highlight"><pre>          <span class="nx">specs</span><span class="o">:</span> <span class="s1">&#39;test/spec/**/*Spec.js&#39;</span><span class="p">,</span>
          <span class="nx">helpers</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;test/helpers/**/*.js&#39;</span><span class="p">,</span> <span class="s1">&#39;test/lib/jasmine-jquery.js&#39;</span><span class="p">],</span></pre></div></td></tr><tr id="section-30"><td class="docs"><div class="pilwrap"><a href="#section-30" class="pilcrow">&#182;</a></div><p>option to keep _SpecRunner.html</p>
</td><td class="code"><div class="highlight"><pre>          <span class="nx">keepRunner</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

          <span class="nx">template</span><span class="o">:</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;grunt-template-jasmine-requirejs&#39;</span><span class="p">),</span>
          <span class="nx">templateOptions</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">requireConfigFile</span><span class="o">:</span> <span class="s1">&#39;.tmp/js/requireConfig.js&#39;</span><span class="p">,</span>
            <span class="nx">requireConfig</span> <span class="o">:</span> <span class="p">{</span>
              <span class="nx">baseUrl</span><span class="o">:</span> <span class="s1">&#39;.tmp/js/&#39;</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span></pre></div></td></tr><tr id="section-31"><td class="docs"><div class="pilwrap"><a href="#section-31" class="pilcrow">&#182;</a></div><p>USEMIN updates index.html file with optimized/minified file names
v2 should support the ability to wire up almond on build</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">useminPrepare</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">html</span><span class="o">:</span> <span class="s1">&#39;&lt;%= sacrum.app %&gt;/index.html&#39;</span><span class="p">,</span>
      <span class="nx">css</span><span class="o">:</span> <span class="s1">&#39;&lt;%= sacrum.app %&gt;/css/main.css&#39;</span><span class="p">,</span>
      <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;&lt;%= sacrum.dist %&gt;&#39;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">usemin</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">html</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&lt;%= sacrum.dist %&gt;/index.html&#39;</span><span class="p">],</span>
      <span class="nx">css</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&lt;%= sacrum.dist %&gt;/css/main.css&#39;</span><span class="p">],</span>
      <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">dirs</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&lt;%= sacrum.dist %&gt;&#39;</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span></pre></div></td></tr><tr id="section-32"><td class="docs"><div class="pilwrap"><a href="#section-32" class="pilcrow">&#182;</a></div><p>////////// //
REQUIRE JS //
////////// //</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">requirejs</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">dist</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">baseUrl</span><span class="o">:</span> <span class="s1">&#39;&lt;%= sacrum.dist %&gt;/js&#39;</span><span class="p">,</span>
          <span class="nx">optimize</span><span class="o">:</span> <span class="s1">&#39;uglify&#39;</span><span class="p">,</span>
          <span class="nx">preserveLicenseComments</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">useStrict</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
          <span class="nx">wrap</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">mainConfigFile</span><span class="o">:</span> <span class="s1">&#39;&lt;%= sacrum.dist %&gt;/js/requireConfig.js&#39;</span><span class="p">,</span>
          <span class="nx">removeCombined</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">findNestedDependencies</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;main&#39;</span><span class="p">,</span>
          <span class="nx">out</span><span class="o">:</span> <span class="s1">&#39;&lt;%= sacrum.dist %&gt;/js/main.optimized.js&#39;</span><span class="p">,</span>
          <span class="nx">waitSeconds</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span>
          <span class="nx">logLevel</span><span class="o">:</span> <span class="mi">0</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span></pre></div></td></tr><tr id="section-33"><td class="docs"><div class="pilwrap"><a href="#section-33" class="pilcrow">&#182;</a></div><p>This task adds unqiue content hash to the start of all targeted files
use this task in conjuction with usemin to src new file names</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">rev</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">encoding</span><span class="o">:</span> <span class="s1">&#39;utf8&#39;</span><span class="p">,</span>
        <span class="nx">algorithm</span><span class="o">:</span> <span class="s1">&#39;sha1&#39;</span><span class="p">,</span>
        <span class="nx">length</span><span class="o">:</span> <span class="mi">4</span>
      <span class="p">},</span>
      <span class="nx">files</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">src</span><span class="o">:</span> <span class="p">[</span>
          <span class="s1">&#39;&lt;%= sacrum.dist %&gt;/**/*.{js,css,png,jpg}&#39;</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span></pre></div></td></tr><tr id="section-34"><td class="docs"><div class="pilwrap"><a href="#section-34" class="pilcrow">&#182;</a></div><p>RUN TASKS CONCURRENTLY</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">concurrent</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">devCompile</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span></pre></div></td></tr><tr id="section-35"><td class="docs"><div class="pilwrap"><a href="#section-35" class="pilcrow">&#182;</a></div><p>'sass:dev',</p>
</td><td class="code"><div class="highlight"><pre>          <span class="s1">&#39;compass:dev&#39;</span><span class="p">,</span>
          <span class="s1">&#39;handlebars:dev&#39;</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="nx">devCopy</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span>
          <span class="s1">&#39;copy:assets2tmp&#39;</span><span class="p">,</span>
          <span class="s1">&#39;copy:scripts2tmp&#39;</span><span class="p">,</span>
          <span class="s1">&#39;copy:templates2tmp&#39;</span><span class="p">,</span>
          <span class="s1">&#39;copy:styles2tmp&#39;</span><span class="p">,</span>
          <span class="s1">&#39;copy:vendor2tmp&#39;</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="nx">distCompile</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span>
          <span class="s1">&#39;sass:dist&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-36"><td class="docs"><div class="pilwrap"><a href="#section-36" class="pilcrow">&#182;</a></div><p>'compass:dist',</p>
</td><td class="code"><div class="highlight"><pre>          <span class="s1">&#39;handlebars:dev&#39;</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="nx">distCopy</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span>
          <span class="s1">&#39;copy:assets2dist&#39;</span><span class="p">,</span>
          <span class="s1">&#39;copy:scripts2dist&#39;</span><span class="p">,</span>
          <span class="s1">&#39;copy:styles2dist&#39;</span><span class="p">,</span>
          <span class="s1">&#39;copy:vendor2dist&#39;</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>

  <span class="p">});</span></pre></div></td></tr><tr id="section-37"><td class="docs"><div class="pilwrap"><a href="#section-37" class="pilcrow">&#182;</a></div><p>///////////////////
AUTHORING TASKS //
///////////////////</p>
</td><td class="code"><div class="highlight"><pre>  <span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s1">&#39;dev&#39;</span><span class="p">,[</span>
    <span class="s1">&#39;clean:tmp&#39;</span><span class="p">,</span>
    <span class="s1">&#39;concurrent:devCompile&#39;</span><span class="p">,</span>
    <span class="s1">&#39;concurrent:devCopy&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-38"><td class="docs"><div class="pilwrap"><a href="#section-38" class="pilcrow">&#182;</a></div><p>'test',</p>
</td><td class="code"><div class="highlight"><pre>  <span class="p">]);</span>

  <span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s1">&#39;dev:server&#39;</span><span class="p">,[</span>
    <span class="s1">&#39;dev&#39;</span><span class="p">,</span>
    <span class="s1">&#39;connect:tmp&#39;</span><span class="p">,</span>
    <span class="s1">&#39;watch&#39;</span>
  <span class="p">]);</span>

  <span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,[</span><span class="s1">&#39;dev:server&#39;</span><span class="p">]);</span>

  <span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s1">&#39;build&#39;</span><span class="p">,[</span>
    <span class="s1">&#39;clean:dist&#39;</span><span class="p">,</span>               <span class="c1">// clear previous build</span>
    <span class="s1">&#39;concurrent:distCompile&#39;</span><span class="p">,</span>   <span class="c1">// compile all files</span>
    <span class="s1">&#39;concurrent:distCopy&#39;</span><span class="p">,</span>      <span class="c1">// copy all targeted files to sacrum.dist</span>
    <span class="s1">&#39;imagemin:dist&#39;</span><span class="p">,</span>            <span class="c1">// image conversion</span>
    <span class="s1">&#39;useminPrepare&#39;</span><span class="p">,</span>            <span class="c1">// get a handle on all references before names change</span>
    <span class="s1">&#39;test&#39;</span><span class="p">,</span>                     <span class="c1">// run all tests</span>
    <span class="s1">&#39;requirejs:dist&#39;</span><span class="p">,</span>           <span class="c1">// run require optimization</span>
    <span class="s1">&#39;rev&#39;</span><span class="p">,</span>                      <span class="c1">// add a unique hash to the name of every static file</span>
    <span class="s1">&#39;usemin&#39;</span><span class="p">,</span>                   <span class="c1">// replace references to static files with new names</span>
    <span class="s1">&#39;clean:postBuild&#39;</span>           <span class="c1">// clear out unwanted folders left over from optimization</span>
  <span class="p">]);</span>


  <span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s1">&#39;build:server&#39;</span><span class="p">,[</span>
    <span class="s1">&#39;build&#39;</span><span class="p">,</span>
    <span class="s1">&#39;connect:build&#39;</span><span class="p">,</span>
    <span class="s1">&#39;open:server&#39;</span><span class="p">,</span>
    <span class="s1">&#39;watch:build&#39;</span>                <span class="c1">// note: no livereload support here</span>
  <span class="p">]);</span>

  <span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,[</span></pre></div></td></tr><tr id="section-39"><td class="docs"><div class="pilwrap"><a href="#section-39" class="pilcrow">&#182;</a></div><p>ADD JS LINT CHECK SOMEWHERE</p>
</td><td class="code"><div class="highlight"><pre>    <span class="s1">&#39;concurrent:devCopy&#39;</span><span class="p">,</span>
    <span class="s1">&#39;connect:test&#39;</span><span class="p">,</span>
    <span class="s1">&#39;jasmine:test&#39;</span>
  <span class="p">]);</span>

  <span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s1">&#39;test:server&#39;</span><span class="p">,[</span>
    <span class="s1">&#39;concurrent:devCopy&#39;</span><span class="p">,</span>
    <span class="s1">&#39;jasmine:test:build&#39;</span><span class="p">,</span>
    <span class="s1">&#39;connect:testBrowser&#39;</span><span class="p">,</span>
    <span class="s1">&#39;open:testBrowser&#39;</span><span class="p">,</span>
    <span class="s1">&#39;watch&#39;</span>                       <span class="c1">// note: livereload untested here</span>
  <span class="p">]);</span>

<span class="p">};</span>

</pre></div></td></tr></tbody></table><div id="generated">generated Sun Nov 10 2013 14:43:56 GMT-0500 (EST)  </div></div></body></html>